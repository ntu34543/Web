(function(m,s){var r=s(".wishlist-btn"),v=s(".wishlist-tile-container"),o=s(".wishlist-counter"),w=v.length,a=localStorage.getItem("user_wishlist")||[],f=localStorage.getItem("user_wishlist_count");if(f==null){var _="0";o.html(_)}else o.html(f);a.length>0&&(a=JSON.parse(localStorage.getItem("user_wishlist")));var I=function(i){s(i).toggleClass("is-active")},S=function(i){var t=s(i).attr("data-product-handle"),n=s(i).hasClass("is-active"),p=localStorage.getItem("user_wishlist_count");if(n){var g=a.indexOf(t);a.splice(g,1);var l=localStorage.getItem("user_wishlist_count");if(l!=null){var c=-1,e=Math.max(parseInt(l)+c,0);localStorage.setItem("user_wishlist_count",e)}localStorage.setItem("user_wishlist",JSON.stringify(a));var h=s(i).find("span").length;h!=0&&r.html('<span class="add-wishlist"><i class="fa fa-heart"></i></span><span class="loading-wishlist"><i class="ion-load-a"></i></span><span class="remove-wishlist"><i class="ion-android-close"></i></span>');var d=localStorage.getItem("user_wishlist_count");o.html(d)}else{a.push(t);var l=localStorage.getItem("user_wishlist_count");if(l==null)var u=1,e=u;else var u=1,e=Math.max(parseInt(l)+u,0);localStorage.setItem("user_wishlist_count",e),localStorage.setItem("user_wishlist",JSON.stringify(a));var h=s(i).find("span").length;h!=0&&r.html('<span class="add-wishlist"><i class="fa fa-heart"></i></span><span class="loading-wishlist"><i class="ion-load-a"></i></span><span class="remove-wishlist"><i class="ion-android-close"></i></span>');var d=localStorage.getItem("user_wishlist_count");o.html(d)}},O=function(){r.each(function(){var i=s(this).attr("data-product-handle");if(a.indexOf(i)>-1){s(this).addClass("is-active");var t=s(this).find("span").length;s(this).hasClass("is-active")?t!=0&&s(this).html('<span class="add-wishlist"><i class="fa fa-heart"></i></span><span class="loading-wishlist"><i class="ion-load-a"></i></span><span class="remove-wishlist"><i class="ion-android-close"></i></span>'):t!=0&&s(this).html('<span class="add-wishlist"><i class="fa fa-heart"></i></span><span class="loading-wishlist"><i class="ion-load-a"></i></span><span class="remove-wishlist"><i class="ion-android-close"></i></span>')}})},x=function(){v.each(function(){var i=s(this).attr("data-product-handle");a.indexOf(i)===-1&&(s(this).remove(),w--)})},y=function(){window.location.href.indexOf("pages/wishlist")>-1&&(x(),s(".wishlist-loader").fadeOut(2e3,function(){s(".wishlist-grid").addClass("is_visible"),s(".wishlist-hero").addClass("is_visible"),w==0?(s(".wishlist-grid-empty-list").addClass("is_visible"),s(".wishlist-grid").hide()):s(".wishlist-grid-empty-list").hide()}))},C=function(){r.click(function(i){i.preventDefault(),S(this),I(this)})};m.init=function(){C(),O(),y()},s("#remove-done").click(function(){var i=localStorage.getItem("user_wishlist"),t=i.length,n,p=s(self).attr("data-product-handle"),g=s(self).hasClass("is-active");for(n=t-1;n>=0;n--){var l=a.indexOf(p);a.splice(l,1);var c=localStorage.getItem("user_wishlist_count");if(c!=null){var e=Math.max(parseInt(0),0);localStorage.setItem("user_wishlist_count",e)}localStorage.setItem("user_wishlist",JSON.stringify(a))}location.reload(!0)})})(window.Wishlist=window.Wishlist||{},jQuery,void 0);function reloadPage(){location.reload(!0)}
//# sourceMappingURL=/s/files/1/0412/8151/9765/t/21/assets/wishlist.js.map?v=10235718477004005051
